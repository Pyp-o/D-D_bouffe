@startuml

abstract class SalleEvenement{
+declancherEvenement()
}

abstract class Item{
-nom : string
+getNom() : string 
+getDescription() : string
}

abstract class Personnage{
-nom : string
-listCompetence[] : Competence
-Pvmax : int
-Pv : int
-Pcmax : int
-Pc : int
-agilite : int
-initiative : int
-attaque : int
-defense : int
-statut : Statut
-arme : Arme
-armure : Armure
+setNom(String nom)
+getNom() : String
+setPvmax(int pv)
+getPvmax() : int
+setPv(int pv)
+getPv() : int
+setPcmax(int pv)
+getPcmax() : int
+setPc(int pc)
+getPc() : int
+setAttaque(int attaque)
+getAttaque() : int
+setDefense(int defense)
+getDefense() : int
+setAgilite(int agilite)
+getAgilite() : int
+setInitiative(int initiative)
+getInitiative() : int
+setArmure(Armure armure)
+getArmure() : Armure
+setArme(Arme arme)
+getArme() : Arme
+prendreDecision()
}

abstract class Statut{
-tourRestnt : int
+setTourRestant(int tour)
+getTourRestant() : int
+activerStatut()
}


abstract class Competence{
-nom : string
-cout : int
-description : string
-groupe : bool
-tauxReussite : int
+getTauxReussite() : int
+getNom() : string
+getDescription() : string
+setCout(int cout)
+getCout() : int
+activerCompetence(Combattant combattant, Team allie, Team ennemi)
}

class CompetenceHeal{
-soin : int
+CompetenceHeal(...)
}

class CompetenceAttaque{
-degat : int
+CompetenceAttaque(...)
}

class CompetenceBuff{
-degatBuff : int
-armureBuff : int
-agiliteBuff : int
+CompetenceBuff(...)
}

Class CompetenceStatut{
-statut : Statut
+CompetenceStatut(...)
}

abstract class Equipement{
-porteur : Personnage
+setPorteur(Personnge perso)
+getPorteur() : Personnage
+retirerPorteur()
}

class Moteur{
+map : Map
+teamHero : Team

+Moteur()
-main()
-initMap()
-initHeros()
-lancerTour()
}

class MiniMap{
+MiniMap(Map map)
+decouvrir(int x, int y)
+afficher()
}

class Combat{
-teamHero : Team
-teamEnnemi : Team
-ordre : Personnage
+Combat(Team heros, Team ennemis)
-lancerCombat()
-finDuTour()
-combattantSuivant() : Combattant
-finDuCombat()
-fuir() : bool
}

Class Ennemi{
-chanceRejoindre : int
+getChancRejoindre() : int
+setChance_rejoindre(int chance)
}

class Combattant{
-teamHero : bool
-combattant : Personnage
-tourFini : bool
+setTourFini(bool tourFini)
+getTourFini() : bool
+attaquer(Personnage combattant)
+seDefendre()
+isTeamHero() : bool
}

class Team{
-listPerso[] : Personnage
+Team()
+ajouterPersonnage(Personnage perso)
+enleverPersonnage(Personnage perso)
}

class Arme{
-degat : int
+setDegat(int degat)
+getDegat() : int
}

class Armure{
-bloquage : int
+getBloquage() : int
}

class Consommable{
-soin : int
-energie : int
-faitRevivre : bool
+Consommable(int soin, int energie, bool faitRevivre)
+utiliser(Personnage perso)
}

class ArmeConsommable{
+ArmeConsommable(int degat, int soin, int energie, bool faitRevivre)
}

class Ressource{

}

class Inventaire{
-items[] : Items
+ajouterItem(Item item)
+retirerItem(Item item)
+getItems() : Items[]
}

class Map{
-salles[][] : Salle
+Map(tailleX, tailleY)
+genererMap()
+recupérerSalle(int x, int y)
+seDeplacer()
}

class Salle{
-isExplore : bool
-x : int
-y : int
+Salle(int x, int y)
+getX() : int
+getY() : int
+isExplore() : bool
+setExplore(bool isExplore)
}

class SalleSortie{
-bossTué : bool
}

class SalleBuffet{
-eventActive : bool
}

class SalleGardeManger{
-eventActive : bool
}

class SalleLevier{
-eventActive : bool
-levierActive : bool
}

class SalleCache{
-eventActive : bool
}

Personnage "1" -- "*" Competence
CompetenceHeal --|> Competence
CompetenceAttaque --|> Competence
CompetenceBuff --|> Competence
CompetenceStatut --|> Competence
Personnage "1" -- "*" Statut
Empoisonné --|> Statut
Paralysé --|> Statut
Ralenti --|> Statut
Ivre --|> Statut
Endormi --|> Statut
Combattant --|> Personnage
Personnage <|-- Hero
Personnage <|-- Ennemi
Ennemi <|-- Boss
Equipement --|> Item
Arme --|> Equipement
Armure --|> Equipement
Consommable --|> Item
Combat "1" -- "*" Combattant
ArmeConsommable --|> Consommable
ArmeConsommable --|> Arme
Ressource --|> Item
Moteur "1" -- "*" Team
MiniMap "1" -- "1" Moteur
Moteur "1" -- "0" Combat
Combat "*" -- "*" Team
Moteur "1" -- "1" InterfaceGraphique
Moteur "1" -- "1" Map
Map "1" *-- "*" Salle
SalleEntree --|> SalleEvenement
SalleSortie --|> SalleEvenement
SalleEvenement --|> Salle
SallePiege --|> SalleEvenement
SalleBuffet --|> SalleEvenement
SalleGardeManger --|> SalleEvenement
SalleCache --|> SalleEvenement
SalleLevier --|> SalleEvenement

Team "1" o-- "*" Personnage
Team "1" -- "1" Inventaire
Inventaire "1" o-- "*" Item


@enduml

/'commande : java -jar plantuml.jar classe.txt '/
