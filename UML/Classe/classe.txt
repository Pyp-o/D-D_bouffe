@startuml

abstract class SalleEvenement{
declancherEvenement()
}

abstract class Item{
-String nom
+getNom() : string 
+setNom(string nom)
}

abstract class Personnage{
-nom : string
-Competence listCompetence[]
-Pvmax : int
-Pv : int
-Pcmax : int
-Pc : int
-agilite : int
-initiative : int
-attaque : int
-defense : int
-statut : Statut
-arme : Arme
-armure : Armure
+setNom(String nom)
+getNom() : String
+setPvmax(int pv)
+getPvmax() : int
+setPv(int pv)
+getPv() : int
+setPcmax(int pv)
+getPcmax() : int
+setPc(int pc)
+getPc() : int
+setAttaque(int attaque)
+getAttaque() : int
+setDefense(int defense)
+getDefense() : int
+setAgilite(int agilite)
+getAgilite() : int
+setInitiative(int initiative)
+getInitiative() : int
+setArmure(Armure armure)
+getArmure() : Armure
+setArme(Arme arme)
+getArme() : Arme
+prendreDecision()
}

abstract class Statut{
-tour_restnt : int
+setTourRestant(int tour)
+getTourRestant() : int
+activerStatut()
}


abstract class Competence{
-String nom
-int cout
-String description
-bool groupe
- int tauxReussite
+ getTauxReussite() : int
+getNom() : string
+getDescription() : string
+setCout(int cout)
+getCout() : int
+activerCompetence(Combattant combattant, Team allie, Team ennemi)
}

class CompetenceHeal{
-int soin
+CompetenceHeal(...)
}

class CompetenceAttaque{
-int degat
+CompetenceAttaque(...)
}

class CompetenceBuff{
-int degatBuff
-int armureBuff
-int agiliteBuff
+CompetenceBuff(...)
}

Class CompetenceStatut{
- Statut statut
+ CompetenceStatut(...)
}

abstract class Equipement{
-porteur(Personnage perso)
+changerDePorteur(Personnge perso)
+getPorteur() : Personnage
}

class Moteur{
map : Map
Team teamHero

+Moteur()
-main()
-initMap()
-initHeros()
-lancerTour()
}

class MiniMap{
+MiniMap(Map map)
+decouvrir(int x, int y)
+afficher()
}

class Combat{
Team teamHero
Team teamEnnemi
Personnage ordre
+Combat(Team heros, Team ennemis)
-lancerCombat()
-finDuTour()
-combattantSuivant() : Combattant
-finDuCombat()
-fuir() : bool
}

Class Ennemi{
-chanceRejoindre : int
+getChancRejoindre() : int
+setChance_rejoindre(int chance)
}

class Combattant{
-Personnage combattant
-bool tourFini
+setTourFini(bool tourFini)
+getTourFini() : bool
+attaquer(Personnage combattant)
+seDefendre()
}

class Team{
Personnage listPerso[]
+Team()
+ajouterPersonnage(Personnage perso)
+enleverPersonnage(Personnage perso)
}

class Arme{
-int degat
+setDegat(int degat)
+getDegat() : int
}

class Armure{
-int bloquage
+setBloquage(int bloquage)
+getBloquage() : int
}

class Consommable{
int soin
int energie
bool faitRevivre
Consommable(int soin, int energie, bool faitRevivre)
utiliser(Personnage perso)
}

class ArmeConsommable{
ArmeConsommable(int degat, int soin, int energie, bool faitRevivre)
}

class Ressource{
string description
setDescription(string description)
getDescription() : string
}

class Inventaire{
Item items[]
ajouterItem(Item item)
retirerItem(Item item)
}

class Map{
-Salle salles[][]
+Map(tailleX, tailleY)
+genererMap()
+recupérerSalle(int x, int y)
+seDeplacer()
}

class Salle{
-bool isExplore
-int x
-int y
Salle(int x, int y)
getX() : int
getY() : int
isExplore() : bool
setExplore(bool isExplore)
}


Personnage "1" -- "*" Competence
CompetenceHeal --|> Competence
CompetenceAttaque --|> Competence
CompetenceBuff --|> Competence
CompetenceStatut --|> Competence
Personnage "1" -- "*" Statut
Empoisonné --|> Statut
Paralysé --|> Statut
Ralenti --|> Statut
Ivre --|> Statut
Endormi --|> Statut
Combattant --|> Personnage
Personnage <|-- Hero
Personnage <|-- Ennemi
Ennemi <|-- Boss
Equipement --|> Item
Arme --|> Equipement
Armure --|> Equipement
Consommable --|> Item
Combat "1" -- "*" Combattant
ArmeConsommable --|> Consommable
ArmeConsommable --|> Arme
Ressource --|> Item
Moteur "1" -- "*" Team
MiniMap "1" -- "1" Moteur
Moteur "1" -- "0" Combat
Combat "*" -- "*" Team
Moteur "1" -- "1" InterfaceGraphique
Moteur "1" -- "1" Map
Map "1" *-- "*" Salle
SalleEntree --|> SalleEvenement
salleSortie --|> SalleEvenement
SalleEvenement --|> Salle
SallePiege --|> SalleEvenement
SalleBuffet --|> SalleEvenement
SalleGardeManger --|> SalleEvenement
SalleCache --|> SalleEvenement
SalleLevier --|> SalleEvenement

Team "1" o-- "*" Personnage
Team "1" -- "1" Inventaire
Inventaire "1" o-- "*" Item


@enduml

/'commande : java -jar plantuml.jar classe.txt '/
