@startuml
start
:declencher event;

split
    :salleSortie;
    if (Boss tué ?) then (yes)
        if (changer d'etage ?) then (yes)
            :passer a l'etage superieur;
            stop
        else (no)
            stop
        endif;
    else (no)
        :lancer combat;
        stop
    endif
split again
    if (effet déjà activé) then (yes)
        stop
       endif
    split
        :sallePiege;
        if (combat gagné) then (yes)
            stop
        else
            :lancer combat;
        endif
    split again
        :gardeManger;
        if (interragir ?) then (yes)
            :activer effet;
        else (no)
            stop
         endif
    split again
        :buffet;
        if (interragir ?) then (yes)
            :activer effet;
        else (no)
            stop
         endif
    split again
        :levier;
        if (interragir ?) then (yes)
            :activer effet;
        else (no)
            stop
         endif
    split again
        :cache;
        if (levier activé ?) then (yes)
            if (entrer ?) then (yes)
                :activer effet;
            else (no)
                stop
             endif
        else (no)
            stop
         endif
    endsplit
endsplit

stop

@enduml